(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(85)}])},85:function(e,n,c){"use strict";c.r(n),c.d(n,{default:function(){return m}});var o=c(5893),t=c(8993),l=c.n(t),i=c(7294),a=c(9008),s=c.n(a),r=c(9854),d=c.n(r),h=c(2456);let u="alpaca",f="http://localhost:8000";function m(){let[e,n]=(0,i.useState)(null),[c,t]=(0,i.useState)(null),[a,r]=(0,i.useState)([]);function m(e){a.length>10?r([...a.slice(1),e]):r([...a,e]),console.log(e)}(0,i.useEffect)(()=>{t(new h.B8(f))},[]);let _=async(e,n)=>{let c=await fetch(e,n);return await c.json()};async function g(e){try{m("calling hello api with name ".concat(e,"..."));let n=await _("/api/hello",{method:"POST",body:JSON.stringify({name:e})});m("hello response: ".concat(n))}catch(e){m("Error: ".concat(e))}}async function x(e){if(!c){m("client not initialized");return}m("getting collection ".concat(e));let o=await c.getCollection(e);console.log(o),o?(n(o),m("get [".concat(e,"] collection success"))):m("get [".concat(e,"] collection failed"))}async function p(){if(!c){m("client not initialized");return}m("listing collections");let e=await c.listCollections();if(e&&e.error)m("list collections failed"),console.log(e.error);else{let n=[];for(let c=0;c<e.length;c++)n.push(e[c].name);m("collections: [".concat(n,"]"))}}async function j(){if(!e){m("no collection found");return}m("counting collection...");try{let n=await e.count();n&&n.error?(m("list collections failed"),console.log(n.error)):m("collections [".concat(e.name,"] has [").concat(n,"] items"))}catch(e){m("count collection error"),console.log(e)}}async function w(){if(!e){m("no collection found");return}m("peeking collections...");try{let n=await e.peek();if(n&&n.error)m("list collections failed"),console.log(n.error);else{let e=[];for(let c=0;c<n.documents.length;c++)e.push(n.documents[c].slice(15,160));r(e)}}catch(e){m("peek collection error"),console.log(e)}}async function y(n,c,o){if(!e){m("no collection found");return}m("safe mode enabled, not adding to collection")}async function N(n,c,o,t){if(!e){m("no collection found");return}try{console.log("querying collection..."),_("/api/queryCollection?name=".concat(n,"&address=").concat(c,"&text=").concat(o,"&n=").concat(t)).then(e=>{if(e.data){let n=e.data.documents[0],c=[];for(let e=0;e<n.length;e++)c.push(n[e].slice(15,160));r(c)}else e.error&&m("add to [".concat(n,"] collection failed at [").concat(c,"] with query [").concat(o,"]"))})}catch(e){m("failed to add to collection"),console.log(e)}}async function k(e){if(!c){m("client not initialized");return}m("safe mode enabled, not deleting collection")}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s(),{children:[(0,o.jsx)("title",{children:"Instruction DB"}),(0,o.jsx)("meta",{name:"description",content:"instruction DB"}),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsxs)("main",{className:"".concat(d().main," ").concat(l().className),children:[(0,o.jsx)("h2",{children:e?"Collection: ".concat(e.name," "):"No Collection Found"}),(0,o.jsxs)("div",{className:d().grid,children:[(0,o.jsx)("div",{className:d().card,onClick:()=>g(u),children:(0,o.jsxs)("h2",{children:["create ",(0,o.jsx)("span",{children:"->"})]})}),(0,o.jsx)("div",{className:d().card,onClick:()=>x(u),children:(0,o.jsxs)("h2",{children:["get ",(0,o.jsx)("span",{children:"->"})]})}),(0,o.jsx)("div",{className:d().card,onClick:()=>p(),children:(0,o.jsxs)("h2",{children:["list ",(0,o.jsx)("span",{children:"->"})]})}),(0,o.jsx)("div",{className:d().card,onClick:()=>j(),children:(0,o.jsxs)("h2",{children:["count ",(0,o.jsx)("span",{children:"->"})]})}),(0,o.jsx)("div",{className:d().card,onClick:()=>w(),children:(0,o.jsxs)("h2",{children:["peek ",(0,o.jsx)("span",{children:"->"})]})}),(0,o.jsx)("div",{className:d().card,onClick:()=>y(u,f,"alpaca_small.json"),children:(0,o.jsxs)("h2",{children:["add ",(0,o.jsx)("span",{children:"->"})]})}),(0,o.jsx)("div",{className:d().card,onClick:()=>N(u,f,"I want to learn how to cook",10),children:(0,o.jsxs)("h2",{children:["query ",(0,o.jsx)("span",{children:"->"})]})}),(0,o.jsx)("div",{className:d().card,onClick:()=>k(u),children:(0,o.jsxs)("h2",{children:["delete ",(0,o.jsx)("span",{children:"->"})]})})]}),a.map((e,n)=>(0,o.jsx)("p",{style:{whiteSpace:"pre-wrap",width:"90%",textAlign:"left",marginTop:"0.2em"},children:"% ".concat(e)},"log".concat(n)))]})]})}},9854:function(e){e.exports={main:"Home_main__EtNt2",description:"Home_description__Qwq1f",code:"Home_code__aGV0U",grid:"Home_grid__c_g6N",card:"Home_card__7oz7W",center:"Home_center__V0nxp",logo:"Home_logo__80mSr",content:"Home_content___fOQz",vercelLogo:"Home_vercelLogo__lhIxO",rotate:"Home_rotate__99GkW"}}},function(e){e.O(0,[126,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);