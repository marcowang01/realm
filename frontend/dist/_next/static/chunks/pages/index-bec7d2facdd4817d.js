(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,c,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(85)}])},85:function(e,c,n){"use strict";n.r(c),n.d(c,{default:function(){return _}});var t=n(5893),a=n(8993),i=n.n(a),o=n(7294),l=n(9008),s=n.n(l),r=n(9854),d=n.n(r);let h="alpaca";function _(){let[e,c]=(0,o.useState)(""),[n,a]=(0,o.useState)([]);function l(e){n.length>10?a([...n.slice(1),e]):a([...n,e]),console.log(e)}let r=async(e,c)=>{let n=await fetch(e,c);return await n.json()};async function _(e){try{l("calling hello api with name ".concat(e,"..."));let c=await r("/api/hello",{method:"POST",body:JSON.stringify({name:e})});l("hello api response: ".concat(c.message))}catch(e){l("Error: ".concat(e))}}async function m(e){try{l("creating and getting collection ".concat(e,"..."));let n=await r("/api/create_and_get_collection",{method:"POST",body:JSON.stringify({name:e})});n.message?(l(n.message),c(e)):l("create and get [".concat(e,"] collection failed"))}catch(e){l("Error: ".concat(e))}}async function g(e){try{l("getting collection ".concat(e,"..."));let c=await r("/api/peek_collection",{method:"POST",body:JSON.stringify({name:e})});if(c.message){console.log(c.message);let e=JSON.parse(c.message),n=e.documents.map(e=>e.slice(0,50)+",");a(n)}else l("get [".concat(e,"] collection failed"))}catch(e){l("Error: ".concat(e))}}let p=async(e,c)=>{let n=e.target,t=n.files[0],a=new FileReader;a.onload=async e=>{var n;let t=null===(n=e.target)||void 0===n?void 0:n.result,a=JSON.parse(t);try{l("adding to collection [".concat(c,"]..."));let e=await r("/api/add_to_collection",{method:"POST",body:JSON.stringify({name:c,documents:a})});e.message?l(e.message):l("add to [".concat(c,"] collection failed"))}catch(e){l("error adding to collection: ".concat(e))}},a.readAsText(t)};async function f(e){let c=document.createElement("input");c.type="file",c.accept=".json",c.addEventListener("change",c=>p(c,e)),c.click()}async function x(e){try{l("deleting collection ".concat(e,"..."));let n=await r("/api/delete_collection",{method:"POST",body:JSON.stringify({name:e})});n.message?(l(n.message),c("")):l("delete [".concat(e,"] collection failed"))}catch(e){l("Error: ".concat(e))}}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s(),{children:[(0,t.jsx)("title",{children:"Instruction DB"}),(0,t.jsx)("meta",{name:"description",content:"instruction DB"}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsxs)("main",{className:"".concat(d().main," ").concat(i().className),children:[(0,t.jsx)("h2",{children:e?"Collection: ".concat(e," "):"No Collection Found"}),(0,t.jsxs)("div",{className:d().grid,children:[(0,t.jsx)("div",{className:d().card,onClick:()=>m(h),children:(0,t.jsxs)("h2",{children:["create ",(0,t.jsx)("span",{children:"->"})]})}),(0,t.jsx)("div",{className:d().card,onClick:()=>_(h),children:(0,t.jsxs)("h2",{children:["get ",(0,t.jsx)("span",{children:"->"})]})}),(0,t.jsx)("div",{className:d().card,onClick:()=>_(h),children:(0,t.jsxs)("h2",{children:["list ",(0,t.jsx)("span",{children:"->"})]})}),(0,t.jsx)("div",{className:d().card,onClick:()=>_(h),children:(0,t.jsxs)("h2",{children:["count ",(0,t.jsx)("span",{children:"->"})]})}),(0,t.jsx)("div",{className:d().card,onClick:()=>g(h),children:(0,t.jsxs)("h2",{children:["peek ",(0,t.jsx)("span",{children:"->"})]})}),(0,t.jsx)("div",{className:d().card,onClick:()=>f(h),children:(0,t.jsxs)("h2",{children:["add ",(0,t.jsx)("span",{children:"->"})]})}),(0,t.jsx)("div",{className:d().card,onClick:()=>_(h),children:(0,t.jsxs)("h2",{children:["query ",(0,t.jsx)("span",{children:"->"})]})}),(0,t.jsx)("div",{className:d().card,onClick:()=>x(h),children:(0,t.jsxs)("h2",{children:["delete ",(0,t.jsx)("span",{children:"->"})]})})]}),n.map((e,c)=>(0,t.jsx)("p",{style:{whiteSpace:"pre-wrap",width:"90%",textAlign:"left",marginTop:"0.2em"},children:"% ".concat(e)},"log".concat(c)))]})]})}},8993:function(e){e.exports={style:{fontFamily:"'__Inter_ccafe3', '__Inter_Fallback_ccafe3'",fontStyle:"normal"},className:"__className_ccafe3"}},9854:function(e){e.exports={main:"Home_main__EtNt2",description:"Home_description__Qwq1f",code:"Home_code__aGV0U",grid:"Home_grid__c_g6N",card:"Home_card__7oz7W",center:"Home_center__V0nxp",logo:"Home_logo__80mSr",content:"Home_content___fOQz",vercelLogo:"Home_vercelLogo__lhIxO",rotate:"Home_rotate__99GkW"}},9008:function(e,c,n){e.exports=n(2636)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);